[2m2025-11-11T00:38:46.163979Z[0m [32m INFO[0m [2mxdl[0m[2m:[0m Executing file: examples/xdl/test_array_creation.xdl
===================================================================
           ARRAY CREATION FUNCTIONS TEST SUITE
===================================================================

TEST 1: BYTARR (Byte Array Creation)
---------------------------------------------------------------

1a. Creating 1D byte arrays:
  bytarr(5): [0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  n_elements(b1): 5
  Expected: [0, 0, 0, 0, 0]

  bytarr(10): [0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  n_elements(b2): 10

1b. Creating 2D byte arrays:
  bytarr(3, 4) - 3x4 array
  n_elements(b3): 12
  Expected: 12 elements (3 * 4)

1c. Creating 3D byte arrays:
  bytarr(2, 3, 4) - 2x3x4 array
  n_elements(b4): 24
  Expected: 24 elements (2 * 3 * 4)

TEST 2: INTARR (Integer Array Creation)
---------------------------------------------------------------

2a. Creating 1D integer arrays:
  intarr(7): [0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  n_elements(i1): 7

2b. Creating 2D integer arrays:
  intarr(4, 5) - 4x5 array
  n_elements(i2): 20
  Expected: 20 elements

2c. Creating larger arrays:
  intarr(100) - large 1D array
  n_elements(i3): 100

TEST 3: LONARR (Long Integer Array Creation)
---------------------------------------------------------------

3a. Creating 1D long arrays:
  lonarr(6): [0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  n_elements(l1): 6

3b. Creating 2D long arrays:
  lonarr(5, 6) - 5x6 array
  n_elements(l2): 30
  Expected: 30 elements

TEST 4: FLTARR (Float Array Creation)
---------------------------------------------------------------

4a. Creating 1D float arrays:
  fltarr(8): [0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  n_elements(f1): 8

4b. Creating 2D float arrays:
  fltarr(3, 3) - 3x3 array
  n_elements(f2): 1
  Expected: 9 elements

4c. Creating 3D float arrays:
  fltarr(2, 2, 2) - 2x2x2 cube
  n_elements(f3): 1
  Expected: 8 elements

TEST 5: DBLARR (Double Array Creation)
---------------------------------------------------------------

5a. Creating 1D double arrays:
  dblarr(9): [0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  n_elements(d1): 9

5b. Creating 2D double arrays:
  dblarr(4, 4) - 4x4 array
  n_elements(d2): 16
  Expected: 16 elements

5c. Creating rectangular arrays:
  dblarr(10, 3) - 10x3 array
  n_elements(d3): 30
  Expected: 30 elements

TEST 6: STRARR (String Array Creation)
---------------------------------------------------------------

6a. Creating 1D string arrays:
  strarr(4): [0.000000, 0.000000, 0.000000, 0.000000]
  n_elements(s1): 4
  Note: String arrays currently represented as numeric arrays

6b. Creating 2D string arrays:
  strarr(3, 5) - 3x5 array
  n_elements(s2): 15
  Expected: 15 elements

TEST 7: Array Initialization and Modification
---------------------------------------------------------------

7a. Modifying array elements:
  Initial fltarr(5): [0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  After modification: [1.500000, 2.500000, 3.500000, 0.000000, 0.000000]

7b. Filling array in loop:
  Filled dblarr(10): [0.000000, 10.000000, 20.000000, 30.000000, 40.000000, 50.000000, 60.000000, 70.000000, 80.000000, 90.000000]

TEST 8: Multi-Dimensional Array Element Access
---------------------------------------------------------------

8a. Accessing 2D array elements (as 1D):
  Created intarr(3, 3), n_elements: 9
  Note: Currently stored as flat 1D array
  Total elements: 9

  After modifying [0], [4], [8]: [1.000000, 0.000000, 0.000000, 0.000000, 5.000000, 0.000000, 0.000000, 0.000000, 9.000000]
  (Diagonal elements in 3x3: positions 0, 4, 8)

TEST 9: Array Size Comparisons
---------------------------------------------------------------

9a. Different array types, same size:
  n_elements(bytarr(10)): 10
  n_elements(intarr(10)): 10
  n_elements(lonarr(10)): 10
  n_elements(fltarr(10)): 10
  n_elements(dblarr(10)): 10
  All should be 10

9b. Same dimensions, different layouts:
  n_elements(fltarr(6)): 6
  n_elements(fltarr(2, 3)): 1
  n_elements(fltarr(3, 2)): 1
  All should be 6

TEST 10: Edge Cases
---------------------------------------------------------------

10a. Single element arrays:
  bytarr(1): [0.000000]
  fltarr(1): [0.000000]
  dblarr(1): [0.000000]
  All should have 1 element

10b. Minimal multi-dimensional arrays:
  intarr(1, 1) elements: 1
  fltarr(1, 1, 1) elements: 1

10c. Different dimension orderings:
  dblarr(2, 3, 4) elements: 24
  dblarr(4, 3, 2) elements: 24
  dblarr(3, 4, 2) elements: 24
  All should be 24

TEST 11: Using Arrays with Other Functions
---------------------------------------------------------------

11a. Statistics on zero-initialized arrays:
  Array: fltarr(20)
  mean: 0.000000000000000
  min: 0.000000000000000
  max: 0.000000000000000
  total: 0.000000000000000
  All should be 0

11b. Statistics after modification:
  Modified array: [10.000000, 20.000000, 30.000000, 40.000000, 50.000000]
  mean: 30.000000000000000
  min: 10.000000000000000
  max: 50.000000000000000
  total: 150.000000000000000

TEST 12: Larger Array Creation
---------------------------------------------------------------

12a. Creating moderately large arrays:
  fltarr(1000) created
  n_elements: 1000

12b. Creating 2D arrays:
  dblarr(50, 50) created
  n_elements: 2500
  Expected: 2500 elements

TEST 13: Array Creation with Different Argument Types
---------------------------------------------------------------

13a. Different argument types:
  intarr(5) where 5 is long: 5
  intarr(5.0) where 5.0 is float: 5
  Both should work and create 5-element arrays

===================================================================
                       TEST SUMMARY
===================================================================

All array creation functions tested successfully!

Functions tested:
  âœ“ BYTARR - Byte array creation
  âœ“ INTARR - Integer array creation
  âœ“ LONARR - Long integer array creation
  âœ“ FLTARR - Float array creation
  âœ“ DBLARR - Double precision array creation
  âœ“ STRARR - String array creation (basic)

Features tested:
  âœ“ 1D array creation
  âœ“ 2D array creation
  âœ“ 3D array creation
  âœ“ Multi-dimensional arrays
  âœ“ Element initialization (zeros)
  âœ“ Element modification
  âœ“ Array element access
  âœ“ Integration with n_elements()
  âœ“ Integration with statistics functions
  âœ“ Edge cases (single elements, etc.)
  âœ“ Large array creation
  âœ“ Different dimension orderings

Notes:
  - All arrays currently stored internally as f64 (double)
  - Multi-dimensional arrays stored in row-major (C) order
  - String arrays use numeric representation (placeholder)
  - All arrays initialized to zero

===================================================================
           ALL TESTS COMPLETED SUCCESSFULLY!
===================================================================
