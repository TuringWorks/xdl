; ================================================================
; VIZ3D Browser-Based Rendering Test
; ================================================================
; Demonstrates browser-based volume visualization
; Multiple visualizations can run simultaneously in separate tabs
; ================================================================

PRINT, 'üåê VIZ3D Browser-Based Rendering Test'
PRINT, ''

; Create a simple 32x32x32 test volume
grid = 32
volume = FLTARR(grid, grid, grid)

PRINT, 'Creating test volume (', grid, 'x', grid, 'x', grid, ')...'

; Create a sphere
center = grid / 2.0
FOR i = 0, grid-1 DO BEGIN
    FOR j = 0, grid-1 DO BEGIN
        FOR k = 0, grid-1 DO BEGIN
            dx = i - center
            dy = j - center
            dz = k - center
            r = SQRT(dx*dx + dy*dy + dz*dz)
            volume[i, j, k] = EXP(-r / 5.0)
        ENDFOR
    ENDFOR
ENDFOR

PRINT, '  Volume created!'
PRINT, ''

; Visualize in browser
VIZ3D_INIT, WINDOW_SIZE=[1280, 720], TITLE='Browser Test - Sphere'
VIZ3D_COLORMAP, 'VIRIDIS'
VIZ3D_CAMERA, POSITION=[0.0, 0.0, 3.0], TARGET=[0.0, 0.0, 0.0], FOV=45.0
VIZ3D_VOLUME, volume, DIMENSIONS=[grid, grid, grid]

PRINT, 'üìä Launching visualization in browser...'
VIZ3D_RENDER, INTERACTIVE=1, TITLE='Sphere Visualization'

PRINT, ''
PRINT, '‚úì Test complete!'
PRINT, '  The visualization is now running in your browser.'
PRINT, '  You can close this XDL script, but the browser tab will remain active.'
PRINT, ''
